:root{
    --bg:#0f172a; /* slate-900 */
    --panel:#111827; /* gray-900 */
    --muted:#94a3b8; /* slate-400 */
    --accent:#22d3ee; /* cyan-400 */
    --accent-2:#38bdf8; /* sky-400 */
    --text:#e5e7eb; /* gray-200 */
    --danger:#ef4444;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
    margin:0;
    font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    color:var(--text);
    background:var(--bg);
}

.app-header{
    padding:12px 16px;
    border-bottom:1px solid #1f2937;
    display:flex;
    align-items:center;
    gap:16px;
}
.app-header h1{ margin:0; font-size:18px; font-weight:600 }
.controls-row{ display:flex; gap:12px; align-items:center }
label{ display:flex; align-items:center; gap:6px; color:var(--muted) }
input,select,button,textarea{ background:#0b1220; color:var(--text); border:1px solid #1f2937; border-radius:6px; padding:6px 8px }
button{ cursor:pointer }
button:hover{ border-color:#334155 }

.layout{ display:grid; grid-template-columns:1fr 320px; height:calc(100% - 58px) }

.canvas-panel{ padding:16px }
.hint{ color:var(--muted); font-size:12px; margin-top:8px }

#stageWrapper{ overflow:auto; border:1px dashed #334155; border-radius:8px; padding:12px; background:#0b1220 }

#zoomContainer{ position:relative; transform-origin: top left; display:inline-block }

#targetBox{
    position:relative;
    width:400px;
    height:300px;
    background:linear-gradient(135deg,#111827,#0b1325);
    border:1px solid #2b364a;
    border-radius:8px;
    overflow:hidden;
}

#overlay{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:auto;
}

/* SVG styling */
.shape-path{ fill:rgba(34,211,238,0.15); stroke:var(--accent); stroke-width:2 }
.inner-path{ fill:rgba(239,68,68,0.15); stroke:var(--danger); stroke-width:2 }
.handle{ fill:#0b1220; stroke:var(--accent-2); stroke-width:2; cursor:grab }
.handle.selected{ fill:var(--accent-2) }
.handle:active{ cursor:grabbing }

#preview{
    position:absolute;
    inset:0;
    background:
        radial-gradient(1200px 600px at 10% 10%, rgba(56,189,248,0.2), transparent 70%),
        radial-gradient(1200px 600px at 90% 90%, rgba(34,211,238,0.15), transparent 70%),
        linear-gradient(135deg,#0f1425,#0b1325);
    z-index:0;
}

#gridLayer{
    position:absolute;
    inset:0;
    z-index:1;
    pointer-events:none;
}

#overlay{ z-index:2 }

.side-panel{ border-left:1px solid #1f2937; padding:16px; background:var(--panel); overflow:auto }
.group{ border:1px solid #1f2937; border-radius:8px; padding:12px; margin-bottom:12px; background:#0b1220 }
.group h3{ margin:0 0 8px 0; font-size:14px; color:var(--muted) }
.row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center }
textarea{ width:100% }

/* Grid background */
.grid{ background-color:#0b1220 }
.grid.major-10{ --grid:10px }
.grid{ --grid:20px; --grid-major: calc(var(--grid) * 5) }
.grid{
    background-image:
      linear-gradient(#121a2b 1px, transparent 1px),
      linear-gradient(90deg, #121a2b 1px, transparent 1px),
      linear-gradient(#0e1a30 1px, transparent 1px),
      linear-gradient(90deg, #0e1a30 1px, transparent 1px);
    background-size: var(--grid) var(--grid), var(--grid) var(--grid), var(--grid-major) var(--grid-major), var(--grid-major) var(--grid-major);
    background-position: -1px -1px, -1px -1px, -1px -1px, -1px -1px;
}


